{"ast":null,"code":"import { httpService } from \"./http.service\";\nconst Route = \"auth\";\nconst STORAGE_KEY_LOGGEDIN = \"loggedUser\";\n\nasync function login(user) {\n  try {\n    const loggedUser = await httpService.post(`${Route}/login`, user);\n\n    if (loggedUser) {\n      sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, JSON.stringify(loggedUser));\n    }\n\n    return loggedUser;\n  } catch (error) {\n    console.log(\"error while login: \", error);\n  }\n}\n\nasync function signup(user) {\n  try {\n    const newUser = await httpService.post(`${Route}/signup`, user);\n\n    if (newUser) {\n      sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, JSON.stringify(newUser));\n    }\n\n    return newUser;\n  } catch (error) {\n    console.log(\"error while signing up: \", error);\n  }\n}\n\nasync function logout() {\n  try {\n    await httpService.post(`${Route}/logout`);\n    sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN);\n  } catch (err) {\n    console.log(\"error while logout: \", err);\n  }\n}\n\nfunction getLoggedUser() {\n  const json = sessionStorage.getItem(STORAGE_KEY_LOGGEDIN);\n  return JSON.parse(json);\n}\n\nfunction saveUser() {}\n\nexport const authService = {\n  login,\n  signup,\n  logout,\n  getLoggedUser\n};","map":{"version":3,"sources":["/Users/noamshirm/Dropbox/Mac/Desktop/PWA/chatMe/front-end/src/services/auth.service.js"],"names":["httpService","Route","STORAGE_KEY_LOGGEDIN","login","user","loggedUser","post","sessionStorage","setItem","JSON","stringify","error","console","log","signup","newUser","logout","removeItem","err","getLoggedUser","json","getItem","parse","saveUser","authService"],"mappings":"AAAA,SAASA,WAAT,QAA4B,gBAA5B;AAEA,MAAMC,KAAK,GAAG,MAAd;AACA,MAAMC,oBAAoB,GAAG,YAA7B;;AAEA,eAAeC,KAAf,CAAqBC,IAArB,EAA2B;AACzB,MAAI;AACF,UAAMC,UAAU,GAAG,MAAML,WAAW,CAACM,IAAZ,CAAkB,GAAEL,KAAM,QAA1B,EAAmCG,IAAnC,CAAzB;;AACA,QAAIC,UAAJ,EAAgB;AACdE,MAAAA,cAAc,CAACC,OAAf,CAAuBN,oBAAvB,EAA6CO,IAAI,CAACC,SAAL,CAAeL,UAAf,CAA7C;AACD;;AACD,WAAOA,UAAP;AACD,GAND,CAME,OAAOM,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCF,KAAnC;AACD;AACF;;AAED,eAAeG,MAAf,CAAsBV,IAAtB,EAA4B;AAC1B,MAAI;AACF,UAAMW,OAAO,GAAG,MAAMf,WAAW,CAACM,IAAZ,CAAkB,GAAEL,KAAM,SAA1B,EAAoCG,IAApC,CAAtB;;AACA,QAAIW,OAAJ,EAAa;AACXR,MAAAA,cAAc,CAACC,OAAf,CAAuBN,oBAAvB,EAA6CO,IAAI,CAACC,SAAL,CAAeK,OAAf,CAA7C;AACD;;AACD,WAAOA,OAAP;AACD,GAND,CAME,OAAOJ,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCF,KAAxC;AACD;AACF;;AAED,eAAeK,MAAf,GAAwB;AACtB,MAAI;AACF,UAAMhB,WAAW,CAACM,IAAZ,CAAkB,GAAEL,KAAM,SAA1B,CAAN;AACAM,IAAAA,cAAc,CAACU,UAAf,CAA0Bf,oBAA1B;AACD,GAHD,CAGE,OAAOgB,GAAP,EAAY;AACZN,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCK,GAApC;AACD;AACF;;AAED,SAASC,aAAT,GAAyB;AACvB,QAAMC,IAAI,GAAGb,cAAc,CAACc,OAAf,CAAuBnB,oBAAvB,CAAb;AACA,SAAOO,IAAI,CAACa,KAAL,CAAWF,IAAX,CAAP;AACD;;AAED,SAASG,QAAT,GACA,CAEC;;AAED,OAAO,MAAMC,WAAW,GAAG;AACzBrB,EAAAA,KADyB;AAEzBW,EAAAA,MAFyB;AAGzBE,EAAAA,MAHyB;AAIzBG,EAAAA;AAJyB,CAApB","sourcesContent":["import { httpService } from \"./http.service\";\n\nconst Route = \"auth\";\nconst STORAGE_KEY_LOGGEDIN = \"loggedUser\";\n\nasync function login(user) {\n  try {\n    const loggedUser = await httpService.post(`${Route}/login`, user);\n    if (loggedUser) {\n      sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, JSON.stringify(loggedUser));\n    }\n    return loggedUser;\n  } catch (error) {\n    console.log(\"error while login: \", error);\n  }\n}\n\nasync function signup(user) {\n  try {\n    const newUser = await httpService.post(`${Route}/signup`, user);\n    if (newUser) {\n      sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, JSON.stringify(newUser));\n    }\n    return newUser;\n  } catch (error) {\n    console.log(\"error while signing up: \", error);\n  }\n}\n\nasync function logout() {\n  try {\n    await httpService.post(`${Route}/logout`);\n    sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN);\n  } catch (err) {\n    console.log(\"error while logout: \", err);\n  }\n}\n\nfunction getLoggedUser() {\n  const json = sessionStorage.getItem(STORAGE_KEY_LOGGEDIN);\n  return JSON.parse(json);\n}\n\nfunction saveUser()\n{\n  \n}\n\nexport const authService = {\n  login,\n  signup,\n  logout,\n  getLoggedUser,\n};\n"]},"metadata":{},"sourceType":"module"}