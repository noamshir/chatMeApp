{"ast":null,"code":"export const utilService = {\n  getUnreadMsgCount,\n  markAllAsRead\n};\n\nfunction getUnreadMsgCount(msgs, userId) {\n  var count = 0;\n  console.log({\n    msgs\n  });\n  msgs.forEach(msg => {\n    if (!msg.viewers || !msg.viewers.length) {\n      count++;\n    } else {\n      const ans = msg.viewers.find(viewer => viewer === userId);\n      console.log({\n        ans\n      });\n      if (ans) return;\n      count++;\n    }\n  });\n  return count;\n}\n\nfunction markAllAsRead(msgs, userId) {\n  return msgs.map(msg => {\n    const isViewer = msg.viewers.find(viewer => viewer === userId);\n    if (isViewer) return msg;\n    return { ...msg,\n      viewers: [...msg.viewers, userId]\n    };\n  });\n}","map":{"version":3,"sources":["/Users/noamshirm/Dropbox/Mac/Desktop/PWA/chatMe/front-end/src/services/util.service.js"],"names":["utilService","getUnreadMsgCount","markAllAsRead","msgs","userId","count","console","log","forEach","msg","viewers","length","ans","find","viewer","map","isViewer"],"mappings":"AAAA,OAAO,MAAMA,WAAW,GAAG;AACzBC,EAAAA,iBADyB;AAEzBC,EAAAA;AAFyB,CAApB;;AAKP,SAASD,iBAAT,CAA2BE,IAA3B,EAAiCC,MAAjC,EAAyC;AACvC,MAAIC,KAAK,GAAG,CAAZ;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY;AAAEJ,IAAAA;AAAF,GAAZ;AACAA,EAAAA,IAAI,CAACK,OAAL,CAAcC,GAAD,IAAS;AACpB,QAAI,CAACA,GAAG,CAACC,OAAL,IAAgB,CAACD,GAAG,CAACC,OAAJ,CAAYC,MAAjC,EAAyC;AACvCN,MAAAA,KAAK;AACN,KAFD,MAEO;AACL,YAAMO,GAAG,GAAGH,GAAG,CAACC,OAAJ,CAAYG,IAAZ,CAAkBC,MAAD,IAAYA,MAAM,KAAKV,MAAxC,CAAZ;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY;AAAEK,QAAAA;AAAF,OAAZ;AACA,UAAIA,GAAJ,EAAS;AACTP,MAAAA,KAAK;AACN;AACF,GATD;AAUA,SAAOA,KAAP;AACD;;AAED,SAASH,aAAT,CAAuBC,IAAvB,EAA6BC,MAA7B,EAAqC;AACnC,SAAOD,IAAI,CAACY,GAAL,CAAUN,GAAD,IAAS;AACvB,UAAMO,QAAQ,GAAGP,GAAG,CAACC,OAAJ,CAAYG,IAAZ,CAAkBC,MAAD,IAAYA,MAAM,KAAKV,MAAxC,CAAjB;AACA,QAAIY,QAAJ,EAAc,OAAOP,GAAP;AACd,WAAO,EAAE,GAAGA,GAAL;AAAUC,MAAAA,OAAO,EAAE,CAAC,GAAGD,GAAG,CAACC,OAAR,EAAiBN,MAAjB;AAAnB,KAAP;AACD,GAJM,CAAP;AAKD","sourcesContent":["export const utilService = {\n  getUnreadMsgCount,\n  markAllAsRead,\n};\n\nfunction getUnreadMsgCount(msgs, userId) {\n  var count = 0;\n  console.log({ msgs });\n  msgs.forEach((msg) => {\n    if (!msg.viewers || !msg.viewers.length) {\n      count++;\n    } else {\n      const ans = msg.viewers.find((viewer) => viewer === userId);\n      console.log({ ans });\n      if (ans) return;\n      count++;\n    }\n  });\n  return count;\n}\n\nfunction markAllAsRead(msgs, userId) {\n  return msgs.map((msg) => {\n    const isViewer = msg.viewers.find((viewer) => viewer === userId);\n    if (isViewer) return msg;\n    return { ...msg, viewers: [...msg.viewers, userId] };\n  });\n}\n"]},"metadata":{},"sourceType":"module"}